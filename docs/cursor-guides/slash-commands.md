# Cursor 斜杠命令完整指南

> **文档更新时间**: 2025-10-27
> **来源**: Cursor 官方文档（https://cursor.com/cn/docs）

---

## 📌 什么是斜杠命令？

斜杠命令是 Cursor Agent 中的**快捷命令系统**，用于快速调用预定义的 AI 功能和操作。

---

## 🔑 核心快捷键

### 主要符号系统

| 符号 | 功能 | 使用场景 |
|------|------|----------|
| `@` | **@ 符号引用** | 引用文件、函数、类等代码符号 |
| `#` | **文件引用** | 引用特定文件 |
| `/` | **快捷命令** | 调用预定义的 AI 命令和操作 |

---

## 🚀 Cursor Agent 核心快捷键

### 打开 Agent

| 快捷键 | 功能 |
|--------|------|
| `Cmd+I` | 打开/切换 Agent 侧边栏 |
| `Cmd+L` | 打开/切换 Agent 侧边栏（备用） |

### Agent 聊天模式

| 快捷键 | 功能 |
|--------|------|
| `Return` | 轻推（默认发送消息） |
| `Ctrl+Return` | 将消息加入队列 |
| `Cmd+Return` | 强制发送消息 |
| `Cmd+Shift+Backspace` | 取消生成 |
| `Cmd+N` / `Cmd+R` | 新建聊天 |
| `Cmd+T` | 新建聊天标签页 |
| `Tab` | 切换到下一条消息 |
| `Shift+Tab` | 在 Agent 模式间切换 |

### 上下文管理

| 快捷键 | 功能 |
|--------|------|
| `@` | 引用代码符号（函数、类、变量） |
| `#` | 引用文件 |
| `/` | 快捷命令 |
| `Cmd+Shift+L` | 将所选代码添加到 Chat |
| `Cmd+L` | 将所选代码添加到新聊天 |
| `Cmd+V`（复制代码后） | 将剪贴板添加为上下文 |
| `Cmd+Shift+V`（复制代码后） | 将剪贴板作为文本添加 |

---

## 💬 在聊天中使用斜杠命令

### 使用步骤

1. **打开 Agent**: 按 `Cmd+I`
2. **输入斜杠**: 在聊天输入框输入 `/`
3. **选择命令**: 从弹出的命令列表中选择
4. **执行操作**: 按 `Return` 发送

### 示例场景

```markdown
# 场景 1: 生成代码
/generate 创建一个 Python 函数计算斐波那契数列

# 场景 2: 解释代码
/explain 解释这个函数的作用

# 场景 3: 重构代码
/refactor 优化这段代码的性能

# 场景 4: 添加测试
/test 为这个函数生成 pytest 测试用例
```

---

## 🎯 Agent 工作模式

### 模式切换

| 快捷键 | 功能 |
|--------|------|
| `Cmd+.` | 模式菜单 |
| `Shift+Tab` | 在 Agent 模式间切换 |
| `Cmd+/` | 在 AI 模型间循环切换 |
| `Cmd+Opt+/` | 切换模型 |

### Agent 功能模块

1. **聊天 (Chat)** - 对话式编程助手
2. **规划 (Planning)** - 创建结构化任务列表（TODO）
3. **工具 (Tools)** - 语义化代码库搜索、终端执行、MCP 集成
4. **审查 (Review)** - 差异对比和更改审查
5. **终端 (Terminal)** - 执行终端命令
6. **浏览器 (Browser)** - 网页交互和测试

---

## 📝 行内编辑 (Inline Edit)

| 快捷键 | 功能 |
|--------|------|
| `Cmd+K` | 打开行内编辑 |
| `Cmd+Shift+K` | 切换输入焦点 |
| `Return` | 提交编辑 |
| `Cmd+Shift+Backspace` | 取消编辑 |
| `Opt+Return` | 快速提问 |

### 使用流程

1. **选择代码**: 选中需要修改的代码
2. **打开编辑器**: 按 `Cmd+K`
3. **描述修改**: 用自然语言描述需求
4. **接受/拒绝**:
   - `Cmd+Return` - 接受所有更改
   - `Cmd+Backspace` - 拒绝所有更改

---

## 🔍 上下文引用完整指南

### @ 符号引用（代码符号）

```markdown
# 引用函数
@functionName

# 引用类
@ClassName

# 引用变量
@variableName

# 引用方法
@ClassName.methodName
```

### # 文件引用

```markdown
# 引用完整文件
#path/to/file.py

# 引用特定目录下的文件
#src/utils/helpers.ts
```

### / 快捷命令

```markdown
# 使用斜杠命令
/命令名称 描述或参数
```

---

## 🛠️ Agent 工具系统

### 可用工具

1. **语义化代码库搜索** - 理解代码含义进行搜索
2. **终端执行** - 运行命令并监控输出
3. **MCP 集成** - Model Context Protocol 外部工具
4. **浏览器控制** - 测试应用、收集信息
5. **文件操作** - 读取、编辑、创建文件

### 终端命令

| 快捷键 | 功能 |
|--------|------|
| `Cmd+K`（在终端） | 打开终端命令栏 |
| `Cmd+Return` | 运行生成的命令 |
| `Escape` | 确认命令 |

---

## 📊 常用工作流示例

### 工作流 1: 新功能开发

```markdown
1. 打开 Agent: Cmd+I
2. 引用相关文件: #src/app.py
3. 引用相关函数: @existingFunction
4. 描述需求: "基于 existingFunction 创建新的数据处理功能"
5. 使用命令: /generate 新功能代码
6. 审查更改: 查看差异
7. 接受更改: Cmd+Return
```

### 工作流 2: Bug 修复

```markdown
1. 选择有问题的代码
2. 行内编辑: Cmd+K
3. 描述问题: "修复这里的空指针异常"
4. 查看修改建议
5. 接受: Return
```

### 工作流 3: 代码重构

```markdown
1. 打开 Agent: Cmd+I
2. 引用文件: #legacy/old_code.py
3. 使用命令: /refactor 使用最新的 Python 最佳实践重构
4. 审查更改: 查看差异对比
5. 测试: /test 生成测试用例
6. 提交: Cmd+Return
```

### 工作流 4: 文档生成

```markdown
1. 选择函数或类
2. Agent 聊天: Cmd+I
3. 命令: /document 生成中文 docstring
4. 接受: Cmd+Return
```

---

## 🎨 检查点和历史

### 检查点功能

- **自动快照**: Agent 自动保存更改前的状态
- **恢复**: 如果更改不符合预期，可恢复到先前状态
- **多方案尝试**: 回到检查点尝试不同方案

### 聊天历史

| 快捷键 | 功能 |
|--------|------|
| `Opt+Cmd+'` | 查看过往对话 |
| `Cmd+[` | 上一个聊天 |
| `Cmd+]` | 下一个聊天 |
| `Cmd+W` | 关闭聊天 |

---

## 🔧 高级功能

### 后台 Agent

| 快捷键 | 功能 |
|--------|------|
| `Cmd+E` | 后台代理控制面板 |

后台 Agent 可在你编码时持续运行，提供实时建议和自动化任务。

### Tab 自动补全

| 快捷键 | 功能 |
|--------|------|
| `Tab` | 接受建议 |
| `Cmd+→` | 接受下一个词 |

Tab 功能提供多行代码预测，基于代码上下文和最近更改。

### 导出对话

- **格式**: Markdown
- **用途**:
  - 团队共享解决方案
  - 记录决策
  - 创建知识库

---

## 🎯 最佳实践

### 提高 Agent 效率的技巧

1. **明确上下文**
   - 使用 `@` 引用相关函数
   - 使用 `#` 引用相关文件
   - 提供清晰的需求描述

2. **合理使用命令**
   - 简单修改 → 行内编辑 (`Cmd+K`)
   - 复杂任务 → Agent 聊天 (`Cmd+I`)
   - 代码补全 → Tab

3. **审查更改**
   - 使用差异对比查看修改
   - 理解 Agent 的修改逻辑
   - 必要时要求解释

4. **利用检查点**
   - 大改动前检查快照
   - 尝试多种方案
   - 不满意时恢复

5. **组织对话**
   - 新任务开新聊天 (`Cmd+N`)
   - 使用标签页管理多个任务 (`Cmd+T`)
   - 导出重要对话作为文档

---

## ⚠️ 常见问题

### Q1: 斜杠命令不显示？

**解决方案**:
1. 确保在 Agent 聊天输入框（`Cmd+I`）
2. 输入 `/` 后稍等片刻
3. 检查 Cursor 版本是否最新
4. 重启 Cursor

### Q2: @ 符号无法引用代码？

**解决方案**:
1. 确保代码库已索引（查看 [代码库索引](https://cursor.com/docs/context/codebase-indexing)）
2. 等待索引完成
3. 检查 `.cursorignore` 是否排除了文件

### Q3: 命令执行没有反应？

**解决方案**:
1. 检查网络连接
2. 查看 API 配额是否用尽
3. 尝试切换模型 (`Cmd+/`)
4. 查看 Cursor 设置 (`Cmd+Shift+J`)

### Q4: 如何自定义命令？

**解决方案**:
- 查看 [规则](https://cursor.com/docs/context/rules) 文档
- 创建 `.cursorrules` 文件
- 定义自定义指令和命令

---

## 📚 相关文档

### 官方文档

- [Agent 概览](https://cursor.com/cn/docs/agent/overview)
- [键盘快捷键](https://cursor.com/cn/docs/configuration/kbd)
- [核心概念](https://cursor.com/cn/docs/get-started/concepts)
- [规则配置](https://cursor.com/cn/docs/context/rules)
- [MCP 集成](https://cursor.com/cn/docs/context/mcp)

### 学习资源

- [AI 模型工作原理](https://cursor.com/learn/how-ai-models-work)
- [上下文管理](https://cursor.com/learn/context)
- [Agent 深度指南](https://cursor.com/learn/agents)
- [Cursor 论坛](https://forum.cursor.com/)

---

## 🔄 版本信息

- **Cursor 版本**: 最新版（2025-10-27）
- **文档来源**: Cursor 官方中文文档
- **最后验证**: 2025-10-27

---

## 💡 快速参考卡片

```markdown
╔═══════════════════════════════════════════════════════╗
║           Cursor 斜杠命令快速参考                      ║
╠═══════════════════════════════════════════════════════╣
║ 核心快捷键                                             ║
║ • Cmd+I      → 打开 Agent                             ║
║ • Cmd+K      → 行内编辑                               ║
║ • Cmd+L      → 新聊天（选中代码）                      ║
║ • Cmd+T      → 新标签页                               ║
║ • Cmd+/      → 切换模型                               ║
║                                                        ║
║ 上下文引用                                             ║
║ • @符号      → 引用代码符号                           ║
║ • #文件      → 引用文件                               ║
║ • /命令      → 快捷命令                               ║
║                                                        ║
║ 接受/拒绝更改                                          ║
║ • Cmd+Return → 接受所有更改                           ║
║ • Cmd+Backspace → 拒绝所有更改                        ║
║                                                        ║
║ 历史和导航                                             ║
║ • Opt+Cmd+'  → 聊天历史                               ║
║ • Cmd+[      → 上一个聊天                             ║
║ • Cmd+]      → 下一个聊天                             ║
╚═══════════════════════════════════════════════════════╝
```

---

**提示**: 按 `Cmd+Shift+P` 打开命令面板，搜索 "Keyboard Shortcuts" 查看所有快捷键配置。

**支持**: 如有账户或账单问题，请联系 hi@cursor.com
